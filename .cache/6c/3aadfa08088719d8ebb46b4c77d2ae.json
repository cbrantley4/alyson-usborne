{"id":"node_modules/html-literal/build/src/index.js","dependencies":[{"name":"/Users/cameronbrantley/Code/alyson-usborne/node_modules/html-literal/build/src/index.js.map","includedInParent":true,"mtime":1544534175000},{"name":"/Users/cameronbrantley/Code/alyson-usborne/node_modules/html-literal/src/index.ts","includedInParent":true,"mtime":1544533885000},{"name":"/Users/cameronbrantley/Code/alyson-usborne/package.json","includedInParent":true,"mtime":1614021580720},{"name":"/Users/cameronbrantley/Code/alyson-usborne/node_modules/html-literal/package.json","includedInParent":true,"mtime":1614021579652},{"name":"flatted","loc":{"line":6,"column":24},"parent":"/Users/cameronbrantley/Code/alyson-usborne/node_modules/html-literal/build/src/index.js","resolved":"/Users/cameronbrantley/Code/alyson-usborne/node_modules/flatted/esm/index.js"},{"name":"strip-indent","loc":{"line":7,"column":45},"parent":"/Users/cameronbrantley/Code/alyson-usborne/node_modules/html-literal/build/src/index.js","resolved":"/Users/cameronbrantley/Code/alyson-usborne/node_modules/strip-indent/index.js"}],"generated":{"js":"\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar flatted_1 = require(\"flatted\");\r\nvar strip_indent_1 = __importDefault(require(\"strip-indent\"));\r\n// html tag function, accepts simple values, arrays, promises\r\nfunction html(template) {\r\n    var expressions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        expressions[_i - 1] = arguments[_i];\r\n    }\r\n    var result = \"\";\r\n    var i = 0;\r\n    // resolve each expression and build the result string\r\n    for (var _a = 0, template_1 = template; _a < template_1.length; _a++) {\r\n        var part = template_1[_a];\r\n        var expression = expressions[i++ - 1]; // this might be an array\r\n        var resolvedExpression = resolveExpression(expression);\r\n        result += \"\" + resolvedExpression + part;\r\n    }\r\n    // strip indentation and trim the result\r\n    return strip_indent_1.default(result).trim();\r\n}\r\nexports.default = html;\r\n// returns whether given value is likely a promise\r\n// tslint:disable-next-line:no-any\r\nfunction isPromise(p) {\r\n    return p !== undefined && p !== null && typeof p === \"object\" && typeof p.then === \"function\";\r\n}\r\n// resolves a concatenatable expression to a string (async)\r\nfunction resolveExpression(expression) {\r\n    // return empty string for undefined\r\n    if (expression === undefined) {\r\n        return \"\";\r\n    }\r\n    // return placeholder for promise\r\n    if (isPromise(expression)) {\r\n        // recursively resolve\r\n        return \"[promise]\";\r\n    }\r\n    // return placeholder for function\r\n    if (typeof expression === \"function\") {\r\n        return \"[function]\";\r\n    }\r\n    // handle arrays\r\n    if (Array.isArray(expression)) {\r\n        var items = [];\r\n        // resolve each item (might be promises as well)\r\n        for (var _i = 0, expression_1 = expression; _i < expression_1.length; _i++) {\r\n            var expressionItem = expression_1[_i];\r\n            items.push(resolveExpression(expressionItem));\r\n        }\r\n        // join with newline\r\n        return items.join(\"\\n\");\r\n    }\r\n    // return unmodified if got a string\r\n    if (typeof expression === \"string\") {\r\n        return expression;\r\n    }\r\n    // convert to string if got a number\r\n    if (typeof expression === \"number\") {\r\n        return expression.toString();\r\n    }\r\n    // return stringified value, handles circular references\r\n    return flatted_1.stringify(expression, undefined, 2);\r\n}\r\n"},"sourceMaps":{"js":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":";;;;;AAAA,mCAAoC;AACpC,8DAAuC;AAWvC,6DAA6D;AAC7D,SAAwB,IAAI,CAAC,QAA8B;IAAE,qBAAgC;SAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;QAAhC,oCAAgC;;IAC3F,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,GAAG,CAAC,CAAC;IAEV,sDAAsD;IACtD,KAAmB,UAAQ,EAAR,qBAAQ,EAAR,sBAAQ,EAAR,IAAQ,EAAE;QAAxB,IAAM,IAAI,iBAAA;QACb,IAAM,UAAU,GAAG,WAAW,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,yBAAyB;QAClE,IAAM,kBAAkB,GAAG,iBAAiB,CAAC,UAAU,CAAC,CAAC;QAEzD,MAAM,IAAI,KAAG,kBAAkB,GAAG,IAAM,CAAC;KAC1C;IAED,wCAAwC;IACxC,OAAO,sBAAW,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;AACpC,CAAC;AAdD,uBAcC;AAED,kDAAkD;AAClD,kCAAkC;AAClC,SAAS,SAAS,CAAI,CAAM;IAC1B,OAAO,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,IAAI,OAAO,CAAC,KAAK,QAAQ,IAAI,OAAO,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC;AAChG,CAAC;AAED,2DAA2D;AAC3D,SAAS,iBAAiB,CAAC,UAA0B;IACnD,oCAAoC;IACpC,IAAI,UAAU,KAAK,SAAS,EAAE;QAC5B,OAAO,EAAE,CAAC;KACX;IAED,iCAAiC;IACjC,IAAI,SAAS,CAAsB,UAAU,CAAC,EAAE;QAC9C,sBAAsB;QACtB,OAAO,WAAW,CAAC;KACpB;IAED,kCAAkC;IAClC,IAAI,OAAO,UAAU,KAAK,UAAU,EAAE;QACpC,OAAO,YAAY,CAAC;KACrB;IAED,gBAAgB;IAChB,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;QAC7B,IAAM,KAAK,GAA0B,EAAE,CAAC;QAExC,gDAAgD;QAChD,KAA6B,UAAU,EAAV,yBAAU,EAAV,wBAAU,EAAV,IAAU,EAAE;YAApC,IAAM,cAAc,mBAAA;YACvB,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,CAAC;SAC/C;QAED,oBAAoB;QACpB,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACzB;IAED,oCAAoC;IACpC,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;QAClC,OAAO,UAAU,CAAC;KACnB;IAED,oCAAoC;IACpC,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;QAClC,OAAO,UAAU,CAAC,QAAQ,EAAE,CAAC;KAC9B;IAED,wDAAwD;IACxD,OAAO,mBAAS,CAAC,UAAU,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;AAC7C,CAAC","sourcesContent":["import { stringify } from \"flatted\";\r\nimport stripIndent from \"strip-indent\";\r\n\r\n// list of possible simple values\r\ntype ConcatenatableToken = object | string | number | undefined;\r\n\r\n// concatenatable item is either a simple value or a promise of one\r\ntype ConcatenatableItem = ConcatenatableToken | Promise<ConcatenatableToken>;\r\n\r\n// concatenatable is either a concatenatable item or an array of them\r\ntype Concatenatable = ConcatenatableItem | ConcatenatableItem[];\r\n\r\n// html tag function, accepts simple values, arrays, promises\r\nexport default function html(template: TemplateStringsArray, ...expressions: Concatenatable[]): string {\r\n  let result = \"\";\r\n  let i = 0;\r\n\r\n  // resolve each expression and build the result string\r\n  for (const part of template) {\r\n    const expression = expressions[i++ - 1]; // this might be an array\r\n    const resolvedExpression = resolveExpression(expression);\r\n\r\n    result += `${resolvedExpression}${part}`;\r\n  }\r\n\r\n  // strip indentation and trim the result\r\n  return stripIndent(result).trim();\r\n}\r\n\r\n// returns whether given value is likely a promise\r\n// tslint:disable-next-line:no-any\r\nfunction isPromise<T>(p: any): p is Promise<T> {\r\n  return p !== undefined && p !== null && typeof p === \"object\" && typeof p.then === \"function\";\r\n}\r\n\r\n// resolves a concatenatable expression to a string (async)\r\nfunction resolveExpression(expression: Concatenatable): string {\r\n  // return empty string for undefined\r\n  if (expression === undefined) {\r\n    return \"\";\r\n  }\r\n\r\n  // return placeholder for promise\r\n  if (isPromise<ConcatenatableToken>(expression)) {\r\n    // recursively resolve\r\n    return \"[promise]\";\r\n  }\r\n\r\n  // return placeholder for function\r\n  if (typeof expression === \"function\") {\r\n    return \"[function]\";\r\n  }\r\n\r\n  // handle arrays\r\n  if (Array.isArray(expression)) {\r\n    const items: ConcatenatableToken[] = [];\r\n\r\n    // resolve each item (might be promises as well)\r\n    for (const expressionItem of expression) {\r\n      items.push(resolveExpression(expressionItem));\r\n    }\r\n\r\n    // join with newline\r\n    return items.join(\"\\n\");\r\n  }\r\n\r\n  // return unmodified if got a string\r\n  if (typeof expression === \"string\") {\r\n    return expression;\r\n  }\r\n\r\n  // convert to string if got a number\r\n  if (typeof expression === \"number\") {\r\n    return expression.toString();\r\n  }\r\n\r\n  // return stringified value, handles circular references\r\n  return stringify(expression, undefined, 2);\r\n}\r\n"]}},"error":null,"hash":"ee6c7bb92c4a1e137f2fcf065c2d7588","cacheData":{"env":{}}}